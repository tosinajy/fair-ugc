{% extends 'base.html' %}

{% block title %}FairUGC | Creator Rate Calculator{% endblock %}

{% block styles %}
<link href="https://cdn.jsdelivr.net/npm/tom-select@2.2.2/dist/css/tom-select.css" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
{% endblock %}

{% block content %}
<nav class="app-navbar">
    <div class="nav-content">
        <div class="nav-brand">
            <div class="logo-icon"><i class="fas fa-calculator"></i></div>
            <span class="brand-text">FairUGC</span>
        </div>
        <button class="theme-toggle-btn" id="themeToggle" title="Toggle Dark Mode">
            <i class="fas fa-moon"></i>
        </button>
    </div>
</nav>

<div class="main-container">
    
    <div class="input-panel">
        
        <div class="panel-intro">
            <h1>Rate Calculator</h1>
            <p>Define your project specs to generate a fair market baseline.</p>
        </div>

        <form id="calcForm" class="wizard-form">
            
            <div class="wizard-step">
                <div class="step-header">
                    <span class="step-badge">1/4</span>
                    <span class="step-label">Content Type</span>
                </div>
                <div class="step-body">
                    <input type="hidden" id="contentType" value="video_1">
                    <div class="pill-grid">
                        <button type="button" class="type-pill active" data-value="video_1">
                            <div class="pill-icon"><i class="fas fa-video"></i></div>
                            <div class="pill-text">
                                <span class="title">1 Video</span>
                                <span class="desc">Standard 15-60s</span>
                            </div>
                        </button>
                        <button type="button" class="type-pill" data-value="video_3">
                            <div class="pill-icon"><i class="fas fa-layer-group"></i></div>
                            <div class="pill-text">
                                <span class="title">3 Bundle</span>
                                <span class="desc">Hook testing</span>
                            </div>
                        </button>
                        <button type="button" class="type-pill" data-value="photos_5">
                            <div class="pill-icon"><i class="fas fa-camera"></i></div>
                            <div class="pill-text">
                                <span class="title">5 Photos</span>
                                <span class="desc">Static assets</span>
                            </div>
                        </button>
                        <button type="button" class="type-pill" data-value="video_1_hooks_3">
                            <div class="pill-icon"><i class="fas fa-random"></i></div>
                            <div class="pill-text">
                                <span class="title">Vid + Hooks</span>
                                <span class="desc">1 body, 3 intros</span>
                            </div>
                        </button>
                        <button type="button" class="type-pill" data-value="raw">
                            <div class="pill-icon"><i class="fas fa-file-video"></i></div>
                            <div class="pill-text">
                                <span class="title">Raw Footage</span>
                                <span class="desc">Unedited files</span>
                            </div>
                        </button>
                    </div>
                </div>
            </div>

            <div class="wizard-step">
                <div class="step-header">
                    <span class="step-badge">2/4</span>
                    <span class="step-label">Brand Niche</span>
                </div>
                <div class="step-body">
                    <select id="nicheSelect" placeholder="Select industry..." autocomplete="off">
                        <option value="lifestyle">‚òï General Lifestyle / Vlogs</option>
                        <option value="beauty">üíÑ Beauty, Skincare & Fashion</option>
                        <option value="health">üßò‚Äç‚ôÄÔ∏è Health & Wellness</option>
                        <option value="home">üè† Home, Kitchen & Pets</option>
                        <option value="tech">üíª Tech, Apps & SaaS</option>
                        <option value="finance">üìà Finance & Business</option>
                    </select>
                </div>
            </div>

            <div class="wizard-step">
                <div class="step-header">
                    <span class="step-badge">3/4</span>
                    <span class="step-label">Creator Level</span>
                </div>
                <div class="step-body">
                    <div class="segmented-control">
                        <button type="button" class="segment-btn active" data-value="beginner">
                            <span class="seg-label">Beginner</span>
                            <span class="seg-sub">&lt; 1 Year</span>
                        </button>
                        <button type="button" class="segment-btn" data-value="intermediate">
                            <span class="seg-label">Intermediate</span>
                            <span class="seg-sub">1-3 Years</span>
                        </button>
                        <button type="button" class="segment-btn" data-value="pro">
                            <span class="seg-label">Pro</span>
                            <span class="seg-sub">3+ Years</span>
                        </button>
                    </div>
                    <div class="helper-text" id="expDetail">
                        <i class="fas fa-info-circle"></i> Best for creators building their initial portfolio.
                    </div>
                </div>
            </div>

            <div class="wizard-step">
                <div class="step-header">
                    <span class="step-badge">4/4</span>
                    <span class="step-label">Usage Rights</span>
                </div>
                <div class="step-body">
                    <div class="toggle-list">
                        <label class="toggle-row">
                            <div class="row-info">
                                <span class="row-title">Paid Ads (30 Days)</span>
                                <span class="row-badge">+30%</span>
                            </div>
                            <div class="switch">
                                <input type="checkbox" name="usage" value="ads_30">
                                <span class="slider round"></span>
                            </div>
                        </label>
                        
                        <label class="toggle-row">
                            <div class="row-info">
                                <span class="row-title">Paid Ads (90 Days)</span>
                                <span class="row-badge">+50%</span>
                            </div>
                            <div class="switch">
                                <input type="checkbox" name="usage" value="ads_90">
                                <span class="slider round"></span>
                            </div>
                        </label>

                        <label class="toggle-row">
                            <div class="row-info">
                                <span class="row-title">Paid Ads (1 Year)</span>
                                <span class="row-badge">+100%</span>
                            </div>
                            <div class="switch">
                                <input type="checkbox" name="usage" value="ads_365">
                                <span class="slider round"></span>
                            </div>
                        </label>

                        <label class="toggle-row highlight-row">
                            <div class="row-info">
                                <span class="row-title">Perpetual Buyout</span>
                                <span class="row-badge premium">+300%</span>
                            </div>
                            <div class="switch">
                                <input type="checkbox" name="usage" value="perpetual">
                                <span class="slider round"></span>
                            </div>
                        </label>
                    </div>
                </div>
            </div>

        </form>
    </div>

    <div class="result-panel">
        <div class="sticky-wrapper">
            <div class="quote-card">
                <div class="card-header">
                    <span class="live-tag"><span class="pulse"></span> Live Estimate</span>
                    <span class="verified-tag"><i class="fas fa-check-double"></i> Verified</span>
                </div>

                <div class="price-section">
                    <div class="price-label">Fair Market Range</div>
                    <div class="price-value">
                        <span class="currency">$</span><span id="minPrice">150</span>
                        <span class="separator">‚Äì</span>
                        <span class="currency">$</span><span id="maxPrice">180</span>
                    </div>
                    <div class="price-context">
                        Based on <strong>32k+ data points</strong> matching your specific niche & experience.
                    </div>
                </div>

                <div class="platform-icons">
                    <i class="fab fa-tiktok"></i>
                    <i class="fab fa-instagram"></i>
                    <i class="fab fa-youtube"></i>
                    <span class="platform-text">Social Optimized</span>
                </div>

                <div class="card-actions">
                    <button class="btn-pitch" id="generatePitchBtn">
                        <i class="fas fa-magic"></i> Generate Pitch
                    </button>
                    <button class="btn-download" id="downloadQuoteBtn">
                        <i class="fas fa-download"></i> PDF Quote
                    </button>
                </div>
            </div>

            <div id="pitchPanel" class="pitch-container hidden">
                <div class="pitch-head">
                    <h4>Pitch Draft</h4>
                    <button class="close-pitch"><i class="fas fa-times"></i></button>
                </div>
                <textarea id="pitchText" readonly spellcheck="false"></textarea>
                <button class="btn-copy" id="copyPitchBtn">Copy to Clipboard</button>
            </div>
        </div>
    </div>

</div>

<div class="mobile-footer">
    <div class="footer-price">
        <span class="label">Estimate</span>
        <span class="val">$<span id="mobileMin">150</span> - $<span id="mobileMax">180</span></span>
    </div>
    <button class="footer-btn" onclick="document.querySelector('.result-panel').scrollIntoView({behavior:'smooth'})">
        Details
    </button>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/tom-select@2.2.2/dist/js/tom-select.complete.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
{% endblock %}